{% extends "base.njk" %}

{% block head %}
    <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
{% endblock %}


{% block main %}
  {{ content | safe }}
{% endblock %}

{% block script %}
<script>

function ready(callback) {
  // in case the document is already rendered
  if (document.readyState !== 'loading') callback(); // modern browsers
  else if (document.addEventListener) document.addEventListener('DOMContentLoaded', callback); // IE <= 8
  else document.attachEvent('onreadystatechange', function () {
      if (document.readyState === 'complete') callback();
    });
}

ready(() => {
	const msnry = new Masonry('.grid', {
		itemSelector: '.grid-item',
		columnWidth: 280,
		gutter: 10,
    horizontalOrder: true
	});
});
</script>
{% endblock %}
